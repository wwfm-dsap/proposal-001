<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>App Store</title>
<style>
  .app {
    display: inline-block;
    width: 100px;
    height: 100px;
    margin: 10px;
    text-align: center;
    line-height: 100px;
    cursor: pointer;
  }
</style>
</head>
<body>
<div class="app" id="app1" style="background-color: green;">Install App 1</div>
<div class="app" id="app2" style="background-color: red;">Install App 2</div>
<div class="app" id="app3" style="background-color: pink;">Install App 3</div>
<script>
  // Function to check if an app is installed
  function isAppInstalled(appId) {
    return localStorage.getItem(appId) === 'installed';
  }

  // Function to toggle app installation
  function toggleAppInstallation(appId) {
    if (isAppInstalled(appId)) {
      localStorage.removeItem(appId);
    } else {
      localStorage.setItem(appId, 'installed');
    }
    updateAppButton(appId);
  }

  // Function to update app button based on installation state
  function updateAppButton(appId) {
    const appElement = document.getElementById(appId);
    if (isAppInstalled(appId)) {
      appElement.innerText = 'Uninstall App';
    } else {
      appElement.innerText = 'Install App';
    }
  }

  // Initialize app buttons
  document.querySelectorAll('.app').forEach(app => {
    const appId = app.id;
    updateAppButton(appId);
    app.addEventListener('click', () => {
      toggleAppInstallation(appId);
    });
  });

  // Function to update app store based on installed apps
  function updateAppStore() {
    const appIds = ['app1', 'app2', 'app3'];
    appIds.forEach(appId => {
      const installState = localStorage.getItem(appId);
      const installButton = document.getElementById(appId);
      if (installButton) {
        if (installState === 'installed') {
          installButton.innerText = 'Install App ' + appId.slice(-1);
        } else {
          installButton.innerText = 'Uninstall App ' + appId.slice(-1);
        }
      }
    });
  }

  // Listen for changes in localStorage and update app store
  window.addEventListener('storage', updateAppStore);

</script>
</body>
</html>
